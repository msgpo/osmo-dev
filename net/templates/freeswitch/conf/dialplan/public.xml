<include>
  <context name="public">
    <extension name="unloop">
      <condition field="${unroll_loops}" expression="^true$"/>
      <condition field="${sip_looped_call}" expression="^true$">
	<action application="deflect" data="${destination_number}"/>
      </condition>
    </extension>

    <extension name="outside_call" continue="true">
      <condition>
	<action application="set" data="outside_call=true"/>
	<action application="export" data="RFC2822_DATE=${strftime(%a, %d %b %Y %T %z)}"/>
      </condition>
    </extension>

    <extension name="call_debug" continue="true">
      <condition field="${call_debug}" expression="^true$" break="never">
	<action application="info"/>
      </condition>
    </extension>
    
    <extension name="outbound">
      <condition field="destination_number" expression=".*">
	<action application="set" data="hangup_after_bridge=true"/>
	<action application="set" data="session_in_hangup_hook=true"/>
	<action application="set" data="ringback=%(2000, 4000, 440.0, 480.0)"/>
	<action application="python" data="freeswitch_dialplan_dgsm"/>
      </condition>
    </extension>
  </context>
</include>
